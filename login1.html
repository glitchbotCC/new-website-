<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Metadata and page settings -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My First Website</title>
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Header section -->
    <header style="background-image: url('headerpic.jpg'); background-size: cover; background-position: center; color: rgb(228, 227, 159); padding: 100px 0; position: relative;"></header>
        <h1 style="color: rgb(255, 166, 0); -webkit-text-stroke: 1px black;">Welcome To The Portal</h1>
        <!-- Navigation menu -->
        <nav>
            <a href="#" style="color: rgb(0, 0, 0); text-decoration: none; margin: 0 10px;">Home</a>
            <a href="#" style="color: rgb(0, 0, 0); text-decoration: none; margin: 0 10px;">About</a>
            <a href="#" style="color: rgb(0, 0, 0); text-decoration: none; margin: 0 10px;">Contact</a>
        </nav>
        <!-- Login button -->
        <a href="login.html" style="position: absolute; top: 20px; right: 20px; background-color: rgb(243, 162, 70); color: rgb(255, 255, 255); text-decoration: none; padding: 5px 10px; border-radius: 5px; font-size: 14px; border: 1px solid black; text-align: center;">Login</a>
    </header>

    <!-- Placeholder for login page -->
    <div id="login-page"></div>

    <!-- Main content -->
    <main>
        <!-- Introductory section -->
        <section class="intro" style="background-color: white; padding: 20px; position: relative;">
            <h2 style="display: inline-block;">ADDING OUTLET VALVES</h2>
            <!-- Input for number of valves -->
            <div style="margin-top: 10px;">
            <label for="button-count">Number valves-:</label>
            <input type="number" id="button-count" min="1" max="10" value="3">
            <!-- Button to generate valves -->
            <button onclick="generateButtons()">ADD VALVE</button>
            </div>
            <!-- Water button -->
            <button id="water-button" style="position: absolute; top: 20px; right: 20px; background-color: grey; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">Water</button>
            <p id="water-status" style="position: absolute; top: 60px; right: 20px; color: black; font-size: 14px;">Water valve is OFF</p>

            <script>
                const waterButton = document.getElementById('water-button');
                const waterStatus = document.getElementById('water-status');

                waterButton.addEventListener('click', () => {
                    const isOn = waterButton.style.backgroundColor === 'blue';
                    waterButton.style.backgroundColor = isOn ? 'grey' : 'blue';
                    waterStatus.textContent = isOn ? 'Water valve is OFF' : 'Water valve is ON';
                });
            </script>

            <!-- JavaScript function to generate buttons and boxes -->
            <script>
            let valvesAdded = false;

            function generateButtons() {
                // Select the container for buttons and boxes
                const buttonContainer = document.querySelector('.button-container');
                // Get the number of valves from the input
                const buttonCount = document.getElementById('button-count').value;

                // Clear existing buttons and boxes
                buttonContainer.innerHTML = '';

                // Loop to create buttons and boxes
                for (let i = 1; i <= buttonCount; i++) {
                    // Create a button for each valve
                    const button = document.createElement('button');
                    button.textContent = `Valve ${i}`;
                    button.style.backgroundColor = 'skyblue';
                    button.style.border = 'none';
                    button.style.padding = '10px 20px';
                    button.style.cursor = 'pointer';
                    button.style.margin = '5px'; // Add gap between buttons

                    // Create a box for each valve
                    const box = document.createElement('div');
                    box.style.width = '100px';
                    box.style.height = '150px';
                    box.style.backgroundColor = 'lightgray';
                    box.style.margin = '10px';
                    box.style.border = '1px solid #ccc';
                    box.style.display = 'flex';
                    box.style.flexDirection = 'column';
                    box.style.justifyContent = 'center';
                    box.style.alignItems = 'center';
                    box.style.position = 'relative';

                    // Create a text element to display valve status
                    const statusText = document.createElement('p');
                    statusText.textContent = 'Valve is OFF';
                    statusText.style.margin = '5px 0';

                    // Add event listener to toggle button color and update box text on click
                    button.addEventListener('click', () => {
                        const isOn = button.style.backgroundColor === 'green';
                        button.style.backgroundColor = isOn ? 'skyblue' : 'green';
                        statusText.textContent = isOn ? 'Valve is OFF' : 'Valve is ON';
                    });

                    // Append status text to the box
                    box.appendChild(statusText);

                    // Create a container to hold the button and box
                    const container = document.createElement('div');
                    container.style.textAlign = 'center';
                    container.style.display = 'inline-block'; // Make containers horizontal
                    container.appendChild(button);
                    container.appendChild(box);

                    // Append the container to the button container
                    buttonContainer.appendChild(container);
                }

                valvesAdded = true;
                updateWaterButtonState();
            }

            function resetValves() {
                const buttonContainer = document.querySelector('.button-container');
                buttonContainer.innerHTML = '';
                valvesAdded = false;
                updateWaterButtonState();
            }

            function updateWaterButtonState() {
                const waterButton = document.getElementById('water-button');
                const waterStatus = document.getElementById('water-status');
                const warningMessage = document.getElementById('warning-message');

                if (valvesAdded) {
                    waterButton.disabled = false;
                    warningMessage.style.display = 'none';
                } else {
                    waterButton.disabled = true;
                    warningMessage.style.display = 'block';
                }
            }

            document.addEventListener('DOMContentLoaded', () => {
                updateWaterButtonState();
            });
            </script>

            <!-- Reset button -->
            <button onclick="resetValves()" style="margin-left: 10px;">RESET</button>
            <p id="warning-message" style="color: red; font-size: 14px; display: none; position: absolute; top: 80px; right: 20px;">Add plants before using the water valve.</p>

            <!-- Container for dynamically generated buttons and boxes -->
            <div class="button-container" style="text-align: center;"></div>
        </section>

    <!-- Footer section -->
    <footer>
        <p>&copy; 2025 My Website. All rights reserved.</p>
    </footer>

</body>
</html>
